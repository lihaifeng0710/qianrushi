//===========================================================================
//文件名称：timer.h
//功能概要：timer底层驱动构件头文件
//版权所有：SD-Arm(sumcu.suda.edu.cn)
//版本更新：20181201-20200221
//芯片类型：KL36
//================================================================
#ifndef  TIMER_H  //防止重复定义（TIMER_H  开头)
#define TIMER_H
#include "mcu.h"


#define TIMERC  2   //TPM2

//LPTMR时钟源
#define LPOCLK     1
#define IRC32KCLK  2
#define IRC4MCLK   3
#define OSCERCLK   4

//确认中断标志
#define CONFIRM_LPTMR_FLAG  ((LPTMR0_CSR & LPTMR_CSR_TCF_MASK) == \
                                                        LPTMR_CSR_TCF_MASK)
//清中断标志
#define CLEAR_LPTMR_FLAG    (LPTMR0_CSR |= LPTMR_CSR_TCF_MASK)

//==================================================================
//函数名称：timer_init
//函数返回：无
//参数说明： timer_No:时钟模块号  具体时钟模块号见gec.h文件定义
//                 time_ms 定时器中断的时间间隔，单位为毫秒，
//                 其中timer0设置范围 0~65535ms，
//                       timer1与
//                 timer2定时时长范围为0~21845ms
//功能概要：时钟模块初始化，其中timer0为低功耗时钟 timer1与timer2为非低功耗时钟
//==================================================================
void timer_init(uint8_t timer_No,uint32_t time_ms);


//===================================================================
//函数名称：timer_enable_int
//函数返回：无
//参数说明： timer_No:时钟模块号  具体时钟模块号见gec.h文件定义
//功能概要：时钟模块使能，开启时钟模块中断及定时器中断
//===================================================================
void timer_enable_int(uint8_t timer_No);

//===================================================================
//函数名称：timer_disable_int
//函数返回：无
//参数说明： timer_No:时钟模块号  具体时钟模块号见gec.h文件定义
//功能概要：定时器中断除能
//===================================================================
void timer_disable_int(uint8_t timer_No);

//===================================================================
//函数名称：timer_get_int
//参数说明： timer_No:时钟模块号  具体时钟模块号见gec.h文件定义
//功能概要：获取timer模块中断标志
//函数返回：中断标志 1=有对应模块中断产生;0=无对应模块中断产生
//===================================================================
uint8_t timer_get_int(uint8_t timer_No);

//===================================================================
//函数名称：timer_clear_int
//函数返回：无
//参数说明： timer_No:时钟模块号  具体时钟模块号见gec.h文件定义
//功能概要：定时器清除中断标志
//==================================================================
void timer_clear_int(uint8_t timer_No);


#endif


